<!-- Feature-Tour Buttons -->
<div class="fixed-action-btn vertical click-to-toggle" style="bottom: 45px; right: 24px;">
  <a class="btn-floating btn-large red">
    <i class="large mdi-navigation-menu"></i>
  </a>
  <ul>
    <li ng-if="allRecipes.length !== 0"><a class="btn-floating yellow" href="javascript:void(0);" onclick="startIntro()">
    <i class="large material-icons">question_answer</i></a></li>
  </ul>
</div>

<!-- Feature-Tour Tour-1-Step-1 && Tour-2-Step-1 -->
<br>
<div class="container" id="step1">
  <div class="row">
    <div class="col s6">
      <div class="row">
        <div class="col s5 offset-s1">
          <a class="row" href="#/saved-lists">The Fridge</a>
        </div>
        <div class="col s5 offset-s1">
          <a class="row" href="#/saved-lists">Saved Shopping Lists</a>
        </div>
      </div>
      <!-- Feature-Tour T2-S4 -->
      <div class="row" id="T2-Step4">
        <div class="card medium card-small transparent hoverable">
  <!--         <div class="card-image">
            <img src="http://internetcafedevotions.com/wp-content/uploads/2010/03/Copy-of-iStock_000003737014XSmall.jpg">
          </div> -->
          <div class="card-content">
            <span ng-if="expiring.length > 0 || expiringToday.length > 0" class="card-title activator black-text">Waste not! </span>
            <span ng-if="expiring.length === 0 && expiringToday.length === 0" class="card-title black-text">Waste not! </span>
            <br/><br/>
              <p ng-if="expiring.length > 0">You have ${{expireAmount.toFixed(2)}} worth of food expiring soon</p>
              <p ng-if="expiringToday.length > 1">You have {{expiringToday.length}} items expiring today!<p>
              <p ng-if="expiringToday.length === 1">You have 1 item expiring today!<p>
              <p ng-if="expiring.length ===0 && expiringToday.length === 0">You have nothing expiring in the fridge</p>
              <p ng-if="expired.length > 1">You let {{expired.length}} items worth ${{expiredValue.toFixed(2)}} expire :"-( </p>
              <p ng-if="expired.length === 1">You let 1 item worth ${{expiredValue.toFixed(2)}} expire :( </p>
              <p ng-if="expired.length === 0">You have no expired items in the fridge</p>
              <span ng-if="fridgeData.length === 0" class="card-title">Fridge</span>
              <p ng-if="fridgeData.length === 0 "> You have nothing in your fridge</p>
              <div ng-if="fridgeData.length > 0">
                <p>Your fridge is currently worth ${{freshValue.toFixed(2)}}</p>
              </div>
          </div>
          <div class="card-reveal black title-type-content">
            <span class="card-title white"><i class="material-icons small right clickable-content-color">close</i></span>
            Expiring soon:
            <div ng-if="expiring.length > 0" ng-repeat="subitem in expiring">
              <li>{{subitem.name}}</li>
            </div>
            <br/></br>
            <div ng-if="expiringToday.length > 0" class="title-type-content">
              Expiring today:
              <div ng-if="expiringToday.length > 0" ng-repeat="subitem in expiringToday">
              <li class="blue-text text-lighten-3">{{subitem.name}}</li>
            </div>
            <br>
            The following items have expired:
            <div ng-repeat="subitem in expired" class="bullet-point-type-content">
              <li>${{(subitem.qty * subitem.price).toFixed(2)}} of {{subitem.name}} on {{subitem.expiration | date: 'shortDate'}}</li>
            </div>
            </div>
            <br/>
            <div>Items in your fridge:</div>
            <div class="bullet-point-type-content"> {{fridgeData.length}}</div>
            <div ng-if="highestQtyFridge.length">You have a lot of:
              <li ng-repeat="item in highestQtyFridge">{{item.name}}</li>
            </div>
            <br/>
            <div ng-if="lowestQtyFridge.length">You don't have a lot of:
            <li ng-repeat="item in lowestQtyFridge" class="bullet-point-type-content">{{item.name}}</li>
            </div>
          </div>
        </div>
      </div>
  </div>
  <!-- Feature-Tour T1-S2 -->
  <div class="col s5 offset-s1" id="T1-Step2">
  <!-- Feature-Tour T1-S3 -->
    <div class="row" id="T1-Step3">
      <div class="card medium card-small transparent hoverable">
        <div class="card-image waves-effect waves-block waves-light"></div>
        <div class="card-content">
          <span ng-if="allRecipes.length > 0" class="card-title activator black-text text-darken-4">What are you making today?</span>
          <span ng-if="allRecipes.length === 0" class="card-title black-text text-darken-4">What are you making today?</span>
          <br/><br/>
          <p ng-if="allRecipes.length === 0">You don't have any saved recipes</p>
          <p ng-if="allRecipes.length > 1">You have {{allRecipes.length}} saved recipes</p>
          <p ng-if="allRecipes.length === 1">You have 1 saved recipe</p>
          <p ng-if="listsCount === 0">You don't have any saved shopping lists</p>
          <p ng-if="listsCount === 1">You have 1 saved shopping list</p>
          <p ng-if="listsCount > 1"> You have {{listsCount}} saved shopping lists</p>
        </div>
        <div class="card-reveal black">
          <span class="card-title grey-text text-darken-4"><i class="material-icons small right clickable-content-color">close</i></span>
          <div ng-if="allRecipes.length > 0">
            <p>Your priciest recipe, {{mostExpensiveRecipe.title}}, costs ${{mostExpensiveRecipe.price.toFixed(2)}}</p>
            <p ng-hide="hide">Your cheapest recipe, {{leastExpensiveRecipe.title}}, costs ${{leastExpensiveRecipe.price.toFixed(2)}}</p>
            <br/>
            <p ng-if="listsCount > 0"> Your priciest shopping list, {{mostExpensiveList.list_name || mostExpensiveList.date}}, costs ${{mostExpensiveList.totalPrice}}</p>
          <p ng-hide="hideList"> Your cheapest shopping list, {{leastExpensiveList.list_name || leastExpensiveList.date}}, costs ${{leastExpensiveList.totalPrice}}</p>
          </div>
          <div ng-if="allRecipes.length === 0"> You have no recipes</div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col s4 offset-s1">
        <a class="row" href="#/recipes">Recipes</a>
      </div>
      <div class="col s4 offset-s1">
        <a class="row" href="#/recipes">Inspiration</a>
      </div>
    </div>
  </div>

</div>
</div>

<script>
  $(document).ready(function(){
    $('.tooltipped').tooltip({delay: 50});
  });

  function startIntro(){
    var intro = introJs();
      intro.setOptions({
        steps: [
          {
            element: document.querySelector('#step1'),
            intro: "This is the dashboard.  This is where the action happens!",
            position: 'bottom'
          },
          {
            element: document.querySelector('#T1-Step2'),
            intro: "At its most basic, WTF takes recipes as input and outputs your grocery list!",
            position:"top"
          },
          {
            element: document.querySelector('#T1-Step3'),
            intro: "Do you have your favorite lasagna recipe handy?",
            position: 'right'
          },
          {
            element: document.querySelector('#T1-Step4'),
            intro: "Click here to input your favorite recipes!",
            position: 'right'
          },
          {
            element: document.querySelector('#T1-Step5'),
            intro: "Do you have favorite recipes?",
            position: 'left'
          },
          {
            element: document.querySelector('#T1-Step6'),
            intro: "Click here to turn your most-used recipes into easily accessible shopping lists!",
            position: 'left'
          }
        ]
      });
    intro.start();
  }

  function startIntro2(){
    var intro2 = introJs();
      intro2.setOptions({
        steps: [
          {
            element: document.querySelector('#step1'),
            intro: "Now let's learn about The Fridge!",
            position: 'bottom'
          },
          {
            element: document.querySelector('#T2-Step2'),
            intro: "This is a digital representation of your fridge's contents!",
            position:"bottom"
          },
          {
            element: document.querySelector('#T2-Step3'),
            intro: "Click here to begin inputting the contents of your fridge!",
            position: 'bottom'
          },
          {
            element: document.querySelector('#T2-Step4'),
            intro: "This section keeps you informed about what's about to expire in your fridge!",
            position: 'right'
          },
          {
            element: document.querySelector('#T2-Step5'),
            intro: "This section keeps track of what has already expired!",
            position: 'left'
          },
        ]
      });
    intro2.start();
  }

 </script>
